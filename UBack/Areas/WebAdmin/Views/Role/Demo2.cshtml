@using System.Data;
@using System.Collections.Generic;

@{
    ViewBag.Title = "Demo2";
    Layout = "~/Areas/WebAdmin/Views/Shared/_LayoutBlank.cshtml";
}

<link rel="stylesheet" type="text/css" href="~/Scripts/formSelects/dist/formSelects-v4.css" />
<script src="~/Scripts/layui/layui.js"></script>
<script src="~/Scripts/static/js/index.js"></script>

<div style="width:500px;">
    <select name="city" xm-select="select1">
        @foreach (var userInfo in Model as Dictionary<string, List<DataRow>>)
        {
            List<DataRow> dataRows = userInfo.Value;

            <optgroup label="@userInfo.Key">

                @foreach (DataRow dr in dataRows)
                {
                    <option value="@dr["id"]">@dr["modulename"]</option>
                }
            </optgroup>
        }
    </select>
</div>
<script type="text/javascript"> 
    //加载模块
    layui.use(['jquery', 'formSelects'], function () {
        var formSelects = layui.formSelects, $ = layui.jquery;
          
    });
</script>